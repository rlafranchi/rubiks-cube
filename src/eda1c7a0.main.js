/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: mark@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2015
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: david@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2015
 */

/**
 * Copyright (c) 2015 Famous Industries, Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * @license MIT
 */

!function(){var t,i,o;!function(e){function s(t,i){return g.call(t,i)}function n(t,i){var o,e,s,n,r,a,c,h,u,l,f,p=i&&i.split("/"),d=v.map,y=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(i){for(p=p.slice(0,p.length-1),t=t.split("/"),r=t.length-1,v.nodeIdCompat&&P.test(t[r])&&(t[r]=t[r].replace(P,"")),t=p.concat(t),u=0;u<t.length;u+=1)if(f=t[u],"."===f)t.splice(u,1),u-=1;else if(".."===f){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||y)&&d){for(o=t.split("/"),u=o.length;u>0;u-=1){if(e=o.slice(0,u).join("/"),p)for(l=p.length;l>0;l-=1)if(s=d[p.slice(0,l).join("/")],s&&(s=s[e])){n=s,a=u;break}if(n)break;!c&&y&&y[e]&&(c=y[e],h=u)}!n&&c&&(n=c,a=h),n&&(o.splice(0,a,n),t=o.join("/"))}return t}function r(t,i){return function(){return p.apply(e,S.call(arguments,0).concat([t,i]))}}function a(t){return function(i){return n(i,t)}}function c(t){return function(i){m[t]=i}}function h(t){if(s(_,t)){var i=_[t];delete _[t],x[t]=!0,f.apply(e,i)}if(!s(m,t)&&!s(x,t))throw new Error("No "+t);return m[t]}function u(t){var i,o=t?t.indexOf("!"):-1;return o>-1&&(i=t.substring(0,o),t=t.substring(o+1,t.length)),[i,t]}function l(t){return function(){return v&&v.config&&v.config[t]||{}}}var f,p,d,y,m={},_={},v={},x={},g=Object.prototype.hasOwnProperty,S=[].slice,P=/\.js$/;d=function(t,i){var o,e=u(t),s=e[0];return t=e[1],s&&(s=n(s,i),o=h(s)),s?t=o&&o.normalize?o.normalize(t,a(i)):n(t,i):(t=n(t,i),e=u(t),s=e[0],t=e[1],s&&(o=h(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:o}},y={require:function(t){return r(t)},exports:function(t){var i=m[t];return"undefined"!=typeof i?i:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:l(t)}}},f=function(t,i,o,n){var a,u,l,f,p,v,g=[],S=typeof o;if(n=n||t,"undefined"===S||"function"===S){for(i=!i.length&&o.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(f=d(i[p],n),u=f.f,"require"===u)g[p]=y.require(t);else if("exports"===u)g[p]=y.exports(t),v=!0;else if("module"===u)a=g[p]=y.module(t);else if(s(m,u)||s(_,u)||s(x,u))g[p]=h(u);else{if(!f.p)throw new Error(t+" missing "+u);f.p.load(f.n,r(n,!0),c(u),{}),g[p]=m[u]}l=o?o.apply(m[t],g):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:l===e&&v||(m[t]=l))}else t&&(m[t]=o)},t=i=p=function(t,i,o,s,n){if("string"==typeof t)return y[t]?y[t](i):h(d(t,i).f);if(!t.splice){if(v=t,v.deps&&p(v.deps,v.callback),!i)return;i.splice?(t=i,i=o,o=null):t=e}return i=i||function(){},"function"==typeof o&&(o=s,s=n),s?f(e,t,i,o):setTimeout(function(){f(e,t,i,o)},4),p},p.config=function(t){return p(t)},t._defined=m,o=function(t,i,o){i.splice||(o=i,i=[]),s(m,t)||s(_,t)||(_[t]=[t,i,o])},o.amd={jQuery:!0}}(),o("almond",function(){}),o("famous/core/Entity",["require","exports","module"],function(t,i,o){function e(t){return a[t]}function s(t,i){a[t]=i}function n(t){var i=a.length;return s(i,t),i}function r(t){s(t,null)}var a=[];o.exports={register:n,unregister:r,get:e,set:s}}),o("famous/core/Transform",["require","exports","module"],function(t,i,o){function e(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function s(t){return Math.sqrt(e(t))}function n(t){return 0>t?-1:1}var r={};r.precision=1e-6,r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.multiply4x4=function(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15]]},r.multiply=function(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2],t[1]*i[0]+t[5]*i[1]+t[9]*i[2],t[2]*i[0]+t[6]*i[1]+t[10]*i[2],0,t[0]*i[4]+t[4]*i[5]+t[8]*i[6],t[1]*i[4]+t[5]*i[5]+t[9]*i[6],t[2]*i[4]+t[6]*i[5]+t[10]*i[6],0,t[0]*i[8]+t[4]*i[9]+t[8]*i[10],t[1]*i[8]+t[5]*i[9]+t[9]*i[10],t[2]*i[8]+t[6]*i[9]+t[10]*i[10],0,t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14],1]},r.thenMove=function(t,i){return i[2]||(i[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+i[0],t[13]+i[1],t[14]+i[2],1]},r.moveThen=function(t,i){t[2]||(t[2]=0);var o=t[0]*i[0]+t[1]*i[4]+t[2]*i[8],e=t[0]*i[1]+t[1]*i[5]+t[2]*i[9],s=t[0]*i[2]+t[1]*i[6]+t[2]*i[10];return r.thenMove(i,[o,e,s])},r.translate=function(t,i,o){return void 0===o&&(o=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,i,o,1]},r.thenScale=function(t,i){return[i[0]*t[0],i[1]*t[1],i[2]*t[2],0,i[0]*t[4],i[1]*t[5],i[2]*t[6],0,i[0]*t[8],i[1]*t[9],i[2]*t[10],0,i[0]*t[12],i[1]*t[13],i[2]*t[14],1]},r.scale=function(t,i,o){return void 0===o&&(o=1),void 0===i&&(i=t),[t,0,0,0,0,i,0,0,0,0,o,0,0,0,0,1]},r.rotateX=function(t){var i=Math.cos(t),o=Math.sin(t);return[1,0,0,0,0,i,o,0,0,-o,i,0,0,0,0,1]},r.rotateY=function(t){var i=Math.cos(t),o=Math.sin(t);return[i,0,-o,0,0,1,0,0,o,0,i,0,0,0,0,1]},r.rotateZ=function(t){var i=Math.cos(t),o=Math.sin(t);return[i,o,0,0,-o,i,0,0,0,0,1,0,0,0,0,1]},r.rotate=function(t,i,o){var e=Math.cos(t),s=Math.sin(t),n=Math.cos(i),r=Math.sin(i),a=Math.cos(o),c=Math.sin(o),h=[n*a,e*c+s*r*a,s*c-e*r*a,0,-n*c,e*a-s*r*c,s*a+e*r*c,0,r,-s*n,e*n,0,0,0,0,1];return h},r.rotateAxis=function(t,i){var o=Math.sin(i),e=Math.cos(i),s=1-e,n=t[0]*t[0]*s,r=t[0]*t[1]*s,a=t[0]*t[2]*s,c=t[1]*t[1]*s,h=t[1]*t[2]*s,u=t[2]*t[2]*s,l=t[0]*o,f=t[1]*o,p=t[2]*o,d=[n+e,r+p,a-f,0,r-p,c+e,h+l,0,a+f,h-l,u+e,0,0,0,0,1];return d},r.aboutOrigin=function(t,i){var o=t[0]-(t[0]*i[0]+t[1]*i[4]+t[2]*i[8]),e=t[1]-(t[0]*i[1]+t[1]*i[5]+t[2]*i[9]),s=t[2]-(t[0]*i[2]+t[1]*i[6]+t[2]*i[10]);return r.thenMove(i,[o,e,s])},r.skew=function(t,i,o){return[1,Math.tan(i),0,0,Math.tan(o),1,0,0,0,Math.tan(t),1,0,0,0,0,1]},r.skewX=function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},r.skewY=function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},r.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},r.getTranslate=function(t){return[t[12],t[13],t[14]]},r.inverse=function(t){var i=t[5]*t[10]-t[6]*t[9],o=t[4]*t[10]-t[6]*t[8],e=t[4]*t[9]-t[5]*t[8],s=t[1]*t[10]-t[2]*t[9],n=t[0]*t[10]-t[2]*t[8],r=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],c=t[0]*t[6]-t[2]*t[4],h=t[0]*t[5]-t[1]*t[4],u=t[0]*i-t[1]*o+t[2]*e,l=1/u,f=[l*i,-l*s,l*a,0,-l*o,l*n,-l*c,0,l*e,-l*r,l*h,0,0,0,0,1];return f[12]=-t[12]*f[0]-t[13]*f[4]-t[14]*f[8],f[13]=-t[12]*f[1]-t[13]*f[5]-t[14]*f[9],f[14]=-t[12]*f[2]-t[13]*f[6]-t[14]*f[10],f},r.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},r.interpret=function(t){var i=[t[0],t[1],t[2]],o=n(i[0]),a=s(i),c=[i[0]+o*a,i[1],i[2]],h=2/e(c);if(h>=1/0)return{translate:r.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];u[0]=1-h*c[0]*c[0],u[5]=1-h*c[1]*c[1],u[10]=1-h*c[2]*c[2],u[1]=-h*c[0]*c[1],u[2]=-h*c[0]*c[2],u[6]=-h*c[1]*c[2],u[4]=u[1],u[8]=u[2],u[9]=u[6];var l=r.multiply(u,t),f=[l[5],l[6]],p=n(f[0]),d=s(f),y=[f[0]+p*d,f[1]],m=2/e(y),_=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];_[5]=1-m*y[0]*y[0],_[10]=1-m*y[1]*y[1],_[6]=-m*y[0]*y[1],_[9]=_[6];var v=r.multiply(_,u),x=r.multiply(v,t),g=r.scale(x[0]<0?-1:1,x[5]<0?-1:1,x[10]<0?-1:1);x=r.multiply(x,g),v=r.multiply(g,v);var S={};return S.translate=r.getTranslate(t),S.rotate=[Math.atan2(-v[6],v[10]),Math.asin(v[2]),Math.atan2(-v[1],v[0])],S.rotate[0]||(S.rotate[0]=0,S.rotate[2]=Math.atan2(v[4],v[5])),S.scale=[x[0],x[5],x[10]],S.skew=[Math.atan2(x[9],S.scale[2]),Math.atan2(x[8],S.scale[2]),Math.atan2(x[4],S.scale[0])],Math.abs(S.rotate[0])+Math.abs(S.rotate[2])>1.5*Math.PI&&(S.rotate[1]=Math.PI-S.rotate[1],S.rotate[1]>Math.PI&&(S.rotate[1]-=2*Math.PI),S.rotate[1]<-Math.PI&&(S.rotate[1]+=2*Math.PI),S.rotate[0]<0?S.rotate[0]+=Math.PI:S.rotate[0]-=Math.PI,S.rotate[2]<0?S.rotate[2]+=Math.PI:S.rotate[2]-=Math.PI),S},r.average=function(t,i,o){o=void 0===o?.5:o;for(var e=r.interpret(t),s=r.interpret(i),n={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)n.translate[a]=(1-o)*e.translate[a]+o*s.translate[a],n.rotate[a]=(1-o)*e.rotate[a]+o*s.rotate[a],n.scale[a]=(1-o)*e.scale[a]+o*s.scale[a],n.skew[a]=(1-o)*e.skew[a]+o*s.skew[a];return r.build(n)},r.build=function(t){var i=r.scale(t.scale[0],t.scale[1],t.scale[2]),o=r.skew(t.skew[0],t.skew[1],t.skew[2]),e=r.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return r.thenMove(r.multiply(r.multiply(e,o),i),t.translate)},r.equals=function(t,i){return!r.notEquals(t,i)},r.notEquals=function(t,i){return t===i?!1:!(t&&i)||t[12]!==i[12]||t[13]!==i[13]||t[14]!==i[14]||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]},r.normalizeRotation=function(t){var i=t.slice(0);for((i[0]===.5*Math.PI||i[0]===.5*-Math.PI)&&(i[0]=-i[0],i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]>.5*Math.PI&&(i[0]=i[0]-Math.PI,i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]<.5*-Math.PI&&(i[0]=i[0]+Math.PI,i[1]=-Math.PI-i[1],i[2]-=Math.PI);i[1]<-Math.PI;)i[1]+=2*Math.PI;for(;i[1]>=Math.PI;)i[1]-=2*Math.PI;for(;i[2]<-Math.PI;)i[2]+=2*Math.PI;for(;i[2]>=Math.PI;)i[2]-=2*Math.PI;return i},r.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],r.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1],o.exports=r}),o("famous/core/SpecParser",["require","exports","module","./Transform"],function(t,i,o){function e(){this.result={}}function s(t,i){return[t[0]*i[0]+t[1]*i[4]+t[2]*i[8],t[0]*i[1]+t[1]*i[5]+t[2]*i[9],t[0]*i[2]+t[1]*i[6]+t[2]*i[10]]}var n=t("./Transform");e._instance=new e,e.parse=function(t,i){return e._instance.parse(t,i)},e.prototype.parse=function(t,i){return this.reset(),this._parseSpec(t,i,n.identity),this.result},e.prototype.reset=function(){this.result={}};var r=[0,0];e.prototype._parseSpec=function(t,i,o){var e,a,c,h,u,l,f;if("number"==typeof t){if(e=t,c=i.transform,l=i.align||r,i.size&&l&&(l[0]||l[1])){var p=[l[0]*i.size[0],l[1]*i.size[1],0];c=n.thenMove(c,s(p,o))}this.result[e]={transform:c,opacity:i.opacity,origin:i.origin||r,align:i.align||r,size:i.size}}else{if(!t)return;if(t instanceof Array)for(var d=0;d<t.length;d++)this._parseSpec(t[d],i,o);else{a=t.target,c=i.transform,h=i.opacity,u=i.origin,l=i.align,f=i.size;var y=o;if(void 0!==t.opacity&&(h=i.opacity*t.opacity),t.transform&&(c=n.multiply(i.transform,t.transform)),t.origin&&(u=t.origin,y=i.transform),t.align&&(l=t.align),t.size||t.proportions){var m=f;f=[f[0],f[1]],t.size&&(void 0!==t.size[0]&&(f[0]=t.size[0]),void 0!==t.size[1]&&(f[1]=t.size[1])),t.proportions&&(void 0!==t.proportions[0]&&(f[0]=f[0]*t.proportions[0]),void 0!==t.proportions[1]&&(f[1]=f[1]*t.proportions[1])),m&&(l&&(l[0]||l[1])&&(c=n.thenMove(c,s([l[0]*m[0],l[1]*m[1],0],o))),u&&(u[0]||u[1])&&(c=n.moveThen([-u[0]*f[0],-u[1]*f[1],0],c))),y=i.transform,u=null,l=null}this._parseSpec(a,{transform:c,opacity:h,origin:u,align:l,size:f},y)}}},o.exports=e}),o("famous/core/RenderNode",["require","exports","module","./Entity","./SpecParser"],function(t,i,o){function e(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}function s(t,i,o){for(var e=r.parse(t,i),a=Object.keys(e),c=0;c<a.length;c++){var h=a[c],u=n.get(h),l=e[h];l.allocator=i.allocator;var f=u.commit(l);f?s(f,i,o):o[h]=l}}var n=t("./Entity"),r=t("./SpecParser");e.prototype.add=function(t){var i=t instanceof e?t:new e(t);return this._child instanceof Array?this._child.push(i):this._child?(this._child=[this._child,i],this._hasMultipleChildren=!0,this._childResult=[]):this._child=i,i},e.prototype.get=function(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)},e.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=t.render?!0:!1,this._isModifier=t.modify?!0:!1,this._object=t,this._child=null,t instanceof e?t:this},e.prototype.getSize=function(){var t=null,i=this.get();return i&&i.getSize&&(t=i.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},e.prototype.commit=function(t){for(var i=Object.keys(this._prevResults),o=0;o<i.length;o++){var e=i[o];if(void 0===this._resultCache[e]){var r=n.get(e);r.cleanup&&r.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},s(this.render(),t,this._resultCache)},e.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var i=this._child,o=0;o<i.length;o++)t[o]=i[o].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},o.exports=e}),o("famous/core/EventEmitter",["require","exports","module"],function(t,i,o){function e(){this.listeners={},this._owner=this}e.prototype.emit=function(t,i){var o=this.listeners[t];if(o)for(var e=0;e<o.length;e++)o[e].call(this._owner,i);return this},e.prototype.on=function(t,i){t in this.listeners||(this.listeners[t]=[]);var o=this.listeners[t].indexOf(i);return 0>o&&this.listeners[t].push(i),this},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=function(t,i){var o=this.listeners[t];if(void 0!==o){var e=o.indexOf(i);e>=0&&o.splice(e,1)}return this},e.prototype.bindThis=function(t){this._owner=t},o.exports=e}),o("famous/core/EventHandler",["require","exports","module","./EventEmitter"],function(t,i,o){function e(){s.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}var s=t("./EventEmitter");e.prototype=Object.create(s.prototype),e.prototype.constructor=e,e.setInputHandler=function(t,i){t.trigger=i.trigger.bind(i),i.subscribe&&i.unsubscribe&&(t.subscribe=i.subscribe.bind(i),t.unsubscribe=i.unsubscribe.bind(i))},e.setOutputHandler=function(t,i){i instanceof e&&i.bindThis(t),t.pipe=i.pipe.bind(i),t.unpipe=i.unpipe.bind(i),t.on=i.on.bind(i),t.addListener=t.on,t.removeListener=i.removeListener.bind(i)},e.prototype.emit=function(t,i){s.prototype.emit.apply(this,arguments);var o=0;for(o=0;o<this.downstream.length;o++)this.downstream[o].trigger&&this.downstream[o].trigger(t,i);for(o=0;o<this.downstreamFn.length;o++)this.downstreamFn[o](t,i);return this},e.prototype.trigger=e.prototype.emit,e.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,o=i.indexOf(t);return 0>o&&i.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},e.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,o=i.indexOf(t);return o>=0?(i.splice(o,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t):!1},e.prototype.on=function(t){if(s.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var i=this.trigger.bind(this,t);this.upstreamListeners[t]=i;for(var o=0;o<this.upstream.length;o++)this.upstream[o].on(t,i)}return this},e.prototype.addListener=e.prototype.on,e.prototype.subscribe=function(t){var i=this.upstream.indexOf(t);if(0>i){this.upstream.push(t);for(var o in this.upstreamListeners)t.on(o,this.upstreamListeners[o])}return this},e.prototype.unsubscribe=function(t){var i=this.upstream.indexOf(t);if(i>=0){this.upstream.splice(i,1);for(var o in this.upstreamListeners)t.removeListener(o,this.upstreamListeners[o])}return this},o.exports=e}),o("famous/core/ElementAllocator",["require","exports","module"],function(t,i,o){function e(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}e.prototype.migrate=function(t){var i=this.container;if(t!==i){if(i instanceof DocumentFragment)t.appendChild(i);else for(;i.hasChildNodes();)t.appendChild(i.firstChild);this.container=t}},e.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var i,o=this.detachedNodes[t];return o.length>0?i=o.pop():(i=document.createElement(t),this.container.appendChild(i)),this.nodeCount++,i},e.prototype.deallocate=function(t){var i=t.nodeName.toLowerCase(),o=this.detachedNodes[i];o.push(t),this.nodeCount--},e.prototype.getNodeCount=function(){return this.nodeCount},o.exports=e}),o("famous/utilities/Utility",["require","exports","module"],function(t,i,o){var e={};e.Direction={X:0,Y:1,Z:2},e.after=function(t,i){var o=t;return function(){o--,0===o&&i.apply(this,arguments)}},e.loadURL=function(t,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===this.readyState&&i&&i(this.responseText)},o.open("GET",t),o.send()},e.createDocumentFragmentFromHTML=function(t){var i=document.createElement("div");i.innerHTML=t;for(var o=document.createDocumentFragment();i.hasChildNodes();)o.appendChild(i.firstChild);return o},e.clone=function(t){var i;if("object"==typeof t){i=t instanceof Array?[]:{};for(var o in t)if("object"==typeof t[o]&&null!==t[o])if(t[o]instanceof Array){i[o]=new Array(t[o].length);for(var s=0;s<t[o].length;s++)i[o][s]=e.clone(t[o][s])}else i[o]=e.clone(t[o]);else i[o]=t[o]}else i=t;return i},o.exports=e}),o("famous/transitions/MultipleTransition",["require","exports","module","../utilities/Utility"],function(t,i,o){function e(t){this.method=t,this._instances=[],this.state=[]}var s=t("../utilities/Utility");e.SUPPORTS_MULTIPLE=!0,e.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},e.prototype.set=function(t,i,o){for(var e=s.after(t.length,o),n=0;n<t.length;n++)this._instances[n]||(this._instances[n]=new this.method),this._instances[n].set(t[n],i,e)},e.prototype.reset=function(t){for(var i=0;i<t.length;i++)this._instances[i]||(this._instances[i]=new this.method),this._instances[i].reset(t[i])},o.exports=e}),o("famous/transitions/TweenTransition",["require","exports","module"],function(t,i,o){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function s(t,i,o){return(1-o)*t+o*i}function n(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function r(t,i){var o={curve:i.curve};return i.duration&&(o.duration=i.duration),i.speed&&(o.speed=i.speed),t instanceof Object&&(void 0!==t.duration&&(o.duration=t.duration),t.curve&&(o.curve=t.curve),t.speed&&(o.speed=t.speed)),"string"==typeof o.curve&&(o.curve=e.getCurve(o.curve)),o}function a(t,i,o,e,s){var n,r=1e-7,a=(o(s)-o(s-r))/r;if(t instanceof Array){n=[];for(var c=0;c<t.length;c++)n[c]="number"==typeof t[c]?a*(t[c]-i[c])/e:0}else n=a*(t-i)/e;return n}function c(t,i,o){var e;if(t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]="number"==typeof t[n]?s(t[n],i[n],o):t[n]}else e=s(t,i,o);return e}e.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},e.SUPPORTS_MULTIPLE=!0,e.DEFAULT_OPTIONS={curve:e.Curves.linear,duration:500,speed:0};var h={};e.registerCurve=function(t,i){return h[t]?!1:(h[t]=i,!0)},e.unregisterCurve=function(t){return h[t]?(delete h[t],!0):!1},e.getCurve=function(t){var i=h[t];if(void 0!==i)return i;throw new Error("curve not registered")},e.getCurves=function(){return h},e.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},e.prototype.set=function(t,i,o){if(!i)return this.reset(t),void(o&&o());if(this._startValue=n(this.get()),i=r(i,this.options),i.speed){var e=this._startValue;if(e instanceof Object){var s=0;for(var a in e)s+=(t[a]-e[a])*(t[a]-e[a]);i.duration=Math.sqrt(s)/i.speed}else i.duration=Math.abs(t-e)/i.speed}this._startTime=Date.now(),this._endValue=n(t),this._startVelocity=n(i.velocity),this._duration=i.duration,this._curve=i.curve,this._active=!0,this._callback=o},e.prototype.reset=function(t,i){if(this._callback){var o=this._callback;this._callback=void 0,o()}this.state=n(t),this.velocity=n(i),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},e.prototype.getVelocity=function(){return this.velocity},e.prototype.get=function(t){return this.update(t),this.state},e.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var i=t-this._startTime;if(i>=this._duration)this.state=this._endValue,this.velocity=a(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(0>i)this.state=this._startValue,this.velocity=this._startVelocity;else{var o=i/this._duration;this.state=c(this._startValue,this._endValue,this._curve(o)),this.velocity=a(this.state,this._startValue,this._curve,this._duration,o)}}}else if(this._callback){var e=this._callback;this._callback=void 0,e()}},e.prototype.isActive=function(){return this._active},e.prototype.halt=function(){this.reset(this.get())},e.registerCurve("linear",e.Curves.linear),e.registerCurve("easeIn",e.Curves.easeIn),e.registerCurve("easeOut",e.Curves.easeOut),e.registerCurve("easeInOut",e.Curves.easeInOut),e.registerCurve("easeOutBounce",e.Curves.easeOutBounce),e.registerCurve("spring",e.Curves.spring),e.customCurve=function(t,i){return t=t||0,i=i||0,function(o){return t*o+(-2*t-i+3)*o*o+(t+i-2)*o*o*o}},o.exports=e}),o("famous/transitions/Transitionable",["require","exports","module","./MultipleTransition","./TweenTransition"],function(t,i,o){function e(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function s(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var i=null,o=this.currentAction[0],e=this.currentAction[1];e instanceof Object&&e.method?(i=e.method,"string"==typeof i&&(i=a[i])):i=r,this._currentMethod!==i&&(this._engineInstance=!(o instanceof Object)||i.SUPPORTS_MULTIPLE===!0||o.length<=i.SUPPORTS_MULTIPLE?new i:new n(i),this._currentMethod=i),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(e.velocity=this.velocity),this._engineInstance.set(o,e,s.bind(this))}var n=t("./MultipleTransition"),r=t("./TweenTransition"),a={};e.register=function(t){var i=!0;for(var o in t)e.registerMethod(o,t[o])||(i=!1);return i},e.registerMethod=function(t,i){return t in a?!1:(a[t]=i,!0)},e.unregisterMethod=function(t){return t in a?(delete a[t],!0):!1},e.prototype.set=function(t,i,o){if(!i)return this.reset(t),o&&o(),this;var e=[t,i];return this.actionQueue.push(e),this.callbackQueue.push(o),this.currentAction||s.call(this),this},e.prototype.reset=function(t,i){this._currentMethod=null,this._engineInstance=null,this._callback=void 0,this.state=t,this.velocity=i,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},e.prototype.delay=function(t,i){var o;return o=this.actionQueue.length?this.actionQueue[this.actionQueue.length-1][0]:this.currentAction?this.currentAction[0]:this.get(),this.set(o,{duration:t,curve:function(){return 0}},i)},e.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},e.prototype.isActive=function(){return!!this.currentAction},e.prototype.halt=function(){return this.set(this.get())},o.exports=e}),o("famous/core/Context",["require","exports","module","./RenderNode","./EventHandler","./ElementAllocator","./Transform","../transitions/Transitionable"],function(t,i,o){function e(){var t=this.container;return[t.clientWidth,t.clientHeight]}function s(t){this.container=t,this._allocator=new a(t),this._node=new n,this._eventOutput=new r,this._size=e.call(this),this._perspectiveState=new h(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:c.identity,opacity:1,origin:u,align:u,size:this._size},this._eventOutput.on("resize",function(){this.setSize(e.call(this))}.bind(this))}var n=t("./RenderNode"),r=t("./EventHandler"),a=t("./ElementAllocator"),c=t("./Transform"),h=t("../transitions/Transitionable"),u=[0,0],l=!("perspective"in document.documentElement.style),f=l?function(t,i){t.style.webkitPerspective=i?i.toFixed()+"px":""}:function(t,i){t.style.perspective=i?i.toFixed()+"px":""};s.prototype.getAllocator=function(){return this._allocator},s.prototype.add=function(t){return this._node.add(t)},s.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},s.prototype.getSize=function(){return this._size},s.prototype.setSize=function(t){t||(t=e.call(this)),this._size[0]=t[0],this._size[1]=t[1]},s.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.align&&(this._nodeContext.align=t.align),t.size&&(this._nodeContext.size=t.size));var i=this._perspectiveState.get();i!==this._perspective&&(f(this.container,i),this._perspective=i),this._node.commit(this._nodeContext)},s.prototype.getPerspective=function(){return this._perspectiveState.get()},s.prototype.setPerspective=function(t,i,o){return this._perspectiveState.set(t,i,o)},s.prototype.emit=function(t,i){return this._eventOutput.emit(t,i)},s.prototype.on=function(t,i){return this._eventOutput.on(t,i)},s.prototype.removeListener=function(t,i){return this._eventOutput.removeListener(t,i)},s.prototype.pipe=function(t){return this._eventOutput.pipe(t)},s.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},o.exports=s}),o("famous/core/OptionsManager",["require","exports","module","./EventHandler"],function(t,i,o){function e(t){this._value=t,this.eventOutput=null}function s(){this.eventOutput=new n,this.eventOutput.bindThis(this),n.setOutputHandler(this,this.eventOutput)}var n=t("./EventHandler");e.patch=function(t){for(var i=new e(t),o=1;o<arguments.length;o++)i.patch(arguments[o]);return t},e.prototype.patch=function(){for(var t=this._value,i=0;i<arguments.length;i++){var o=arguments[i];for(var e in o)e in t&&o[e]&&o[e].constructor===Object&&t[e]&&t[e].constructor===Object?(t.hasOwnProperty(e)||(t[e]=Object.create(t[e])),this.key(e).patch(o[e]),this.eventOutput&&this.eventOutput.emit("change",{id:e,value:this.key(e).value()})):this.set(e,o[e])}return this},e.prototype.setOptions=e.prototype.patch,e.prototype.key=function(t){var i=new e(this._value[t]);return(!(i._value instanceof Object)||i._value instanceof Array)&&(i._value={}),i},e.prototype.get=function(t){return t?this._value[t]:this._value},e.prototype.getOptions=e.prototype.get,e.prototype.set=function(t,i){var o=this.get(t);return this._value[t]=i,this.eventOutput&&i!==o&&this.eventOutput.emit("change",{id:t,value:i}),this},e.prototype.on=function(){return s.call(this),this.on.apply(this,arguments)},e.prototype.removeListener=function(){return s.call(this),this.removeListener.apply(this,arguments)},e.prototype.pipe=function(){return s.call(this),this.pipe.apply(this,arguments)},e.prototype.unpipe=function(){return s.call(this),this.unpipe.apply(this,arguments)},o.exports=e}),o("famous/core/Engine",["require","exports","module","./Context","./EventHandler","./OptionsManager"],function(t,i,o){function e(){b.runLoop?(d.step(),window.requestAnimationFrame(e)):S=!1}function s(){for(var t=0;t<y.length;t++)y[t].emit("resize");w.emit("resize")}function n(){window.addEventListener("touchmove",function(t){t.preventDefault()},!0),r()}function r(){return document.body?(document.body.classList.add("famous-root"),void document.documentElement.classList.add("famous-root")):void d.nextTick(r)}function a(t,i){return document.body?void document.body.addEventListener(t,i):void d.nextTick(addEventListener.bind(this,t,i))}function c(t,i){return document.body?(document.body.appendChild(i),void t.emit("resize")):void d.nextTick(c.bind(this,t,i))}var h,u,l=t("./Context"),f=t("./EventHandler"),p=t("./OptionsManager"),d={},y=[],m=[],_=0,v=0,x=[],g=Date.now(),S=!0,P={},w=new f,b={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0,appMode:!0},k=new p(b),z=10;d.step=function(){_++,v=_;var t=Date.now();if(!(u&&u>t-g)){var i=0;h=t-g,g=t,w.emit("prerender");for(var o=m.length;o--;)m.shift()(_);for(;x.length&&Date.now()-t<z;)x.shift().call(this);for(i=0;i<y.length;i++)y[i].update();w.emit("postrender")}},window.requestAnimationFrame(e),window.addEventListener("resize",s,!1),s();var M=!1;d.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(d):w.pipe(t)},d.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(d):w.unpipe(t)},d.on=function(t,i){return t in P||(P[t]=w.emit.bind(w,t),a(t,P[t])),w.on(t,i)},d.emit=function(t,i){return w.emit(t,i)},d.removeListener=function(t,i){return w.removeListener(t,i)},d.getFPS=function(){return 1e3/h},d.setFPSCap=function(t){u=Math.floor(1e3/t)},d.getOptions=function(t){return k.getOptions(t)},d.setOptions=function(){return k.setOptions.apply(k,arguments)},d.createContext=function(t){!M&&b.appMode&&d.nextTick(n);var i=!1;t||(t=document.createElement(b.containerType),t.classList.add(b.containerClass),i=!0);var o=new l(t);return d.registerContext(o),i&&c(o,t),o},d.registerContext=function(t){return y.push(t),t},d.getContexts=function(){return y},d.deregisterContext=function(t){var i=y.indexOf(t);i>=0&&y.splice(i,1)},d.nextTick=function(t){m.push(t)},d.defer=function(t){x.push(t)},k.on("change",function(t){"fpsCap"===t.id?d.setFPSCap(t.value):"runLoop"===t.id&&!S&&t.value&&(S=!0,window.requestAnimationFrame(e))}),o.exports=d}),o("famous/core/ElementOutput",["require","exports","module","./Entity","./EventHandler","./Transform"],function(t,i,o){function e(t){this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this._eventOutput=new u,this._eventOutput.bindThis(this),this.eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this.id=h.register(this),this._element=null,this._sizeDirty=!1,this._originDirty=!1,this._transformDirty=!1,this._invisible=!1,t&&this.attach(t)}function s(t){for(var i in this._eventOutput.listeners)t.addEventListener(i,this.eventForwarder)}function n(t){for(var i in this._eventOutput.listeners)t.removeEventListener(i,this.eventForwarder)}function r(t){t[12]=Math.round(t[12]*p)/p,t[13]=Math.round(t[13]*p)/p;for(var i="matrix3d(",o=0;15>o;o++)i+=t[o]<1e-6&&t[o]>-1e-6?"0,":t[o]+",";return i+=t[15]+")"}function a(t){return 100*t[0]+"% "+100*t[1]+"%"}function c(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}var h=t("./Entity"),u=t("./EventHandler"),l=t("./Transform"),f=!("transform"in document.documentElement.style),p=window.devicePixelRatio||1;e.prototype.on=function(t,i){this._element&&this._element.addEventListener(t,this.eventForwarder),this._eventOutput.on(t,i)},e.prototype.removeListener=function(t,i){this._eventOutput.removeListener(t,i)},e.prototype.emit=function(t,i){i&&!i.origin&&(i.origin=this);var o=this._eventOutput.emit(t,i);return o&&i&&i.stopPropagation&&i.stopPropagation(),o},e.prototype.pipe=function(t){return this._eventOutput.pipe(t)},e.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},e.prototype.render=function(){return this.id};var d;
d=f?function(t,i){t.style.webkitTransform=r(i)}:function(t,i){t.style.transform=r(i)};var y=f?function(t,i){t.style.webkitTransformOrigin=a(i)}:function(t,i){t.style.transformOrigin=a(i)},m=f?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0};e.prototype.commit=function(t){var i=this._element;if(i){{var o=t.transform,e=t.opacity,s=t.origin;t.size}if(!o&&this._matrix)return this._matrix=null,this._opacity=0,void m(i);if(c(this._origin,s)&&(this._originDirty=!0),l.notEquals(this._matrix,o)&&(this._transformDirty=!0),this._invisible&&(this._invisible=!1,this._element.style.display=""),this._opacity!==e&&(this._opacity=e,i.style.opacity=e>=1?"0.999999":e),this._transformDirty||this._originDirty||this._sizeDirty){this._sizeDirty&&(this._sizeDirty=!1),this._originDirty&&(s?(this._origin||(this._origin=[0,0]),this._origin[0]=s[0],this._origin[1]=s[1]):this._origin=null,y(i,this._origin),this._originDirty=!1),o||(o=l.identity),this._matrix=o;var n=this._size?l.thenMove(o,[-this._size[0]*s[0],-this._size[1]*s[1],0]):o;d(i,n),this._transformDirty=!1}}},e.prototype.cleanup=function(){this._element&&(this._invisible=!0,this._element.style.display="none")},e.prototype.attach=function(t){this._element=t,s.call(this,t)},e.prototype.detach=function(){var t=this._element;return t&&(n.call(this,t),this._invisible&&(this._invisible=!1,this._element.style.display="")),this._element=null,t},o.exports=e}),o("famous/core/Surface",["require","exports","module","./ElementOutput"],function(t,i,o){function e(t){u.call(this),this.options={},this.properties={},this.attributes={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._trueSizeCheck=!0,this._dirtyClasses=[],t&&this.setOptions(t),this._currentTarget=null}function s(t){for(var i=0;i<this._dirtyClasses.length;i++)t.classList.remove(this._dirtyClasses[i]);this._dirtyClasses=[]}function n(t){for(var i in this.properties)t.style[i]=this.properties[i]}function r(t){for(var i in this.properties)t.style[i]=""}function a(t){for(var i in this.attributes)t.setAttribute(i,this.attributes[i])}function c(t){for(var i in this.attributes)t.removeAttribute(i)}function h(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}var u=t("./ElementOutput");e.prototype=Object.create(u.prototype),e.prototype.constructor=e,e.prototype.elementType="div",e.prototype.elementClass="famous-surface",e.prototype.setAttributes=function(t){for(var i in t){if("style"===i)throw new Error('Cannot set styles via "setAttributes" as it will break Famo.us.  Use "setProperties" instead.');this.attributes[i]=t[i]}this._attributesDirty=!0},e.prototype.getAttributes=function(){return this.attributes},e.prototype.setProperties=function(t){for(var i in t)this.properties[i]=t[i];return this._stylesDirty=!0,this},e.prototype.getProperties=function(){return this.properties},e.prototype.addClass=function(t){return this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0),this},e.prototype.removeClass=function(t){var i=this.classList.indexOf(t);return i>=0&&(this._dirtyClasses.push(this.classList.splice(i,1)[0]),this._classesDirty=!0),this},e.prototype.toggleClass=function(t){var i=this.classList.indexOf(t);return i>=0?this.removeClass(t):this.addClass(t),this},e.prototype.setClasses=function(t){var i=0,o=[];for(i=0;i<this.classList.length;i++)t.indexOf(this.classList[i])<0&&o.push(this.classList[i]);for(i=0;i<o.length;i++)this.removeClass(o[i]);for(i=0;i<t.length;i++)this.addClass(t[i]);return this},e.prototype.getClassList=function(){return this.classList},e.prototype.setContent=function(t){return this.content!==t&&(this.content=t,this._contentDirty=!0),this},e.prototype.getContent=function(){return this.content},e.prototype.setOptions=function(t){return t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.attributes&&this.setAttributes(t.attributes),t.content&&this.setContent(t.content),this},e.prototype.setup=function(t){var i=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var o=0;o<this.elementClass.length;o++)i.classList.add(this.elementClass[o]);else i.classList.add(this.elementClass);i.style.display="",this.attach(i),this._opacity=null,this._currentTarget=i,this._stylesDirty=!0,this._classesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._originDirty=!0,this._transformDirty=!0},e.prototype.commit=function(t){this._currentTarget||this.setup(t.allocator);var i=this._currentTarget,o=t.size;if(this._classesDirty){s.call(this,i);for(var e=this.getClassList(),r=0;r<e.length;r++)i.classList.add(e[r]);this._classesDirty=!1,this._trueSizeCheck=!0}if(this._stylesDirty&&(n.call(this,i),this._stylesDirty=!1,this._trueSizeCheck=!0),this._attributesDirty&&(a.call(this,i),this._attributesDirty=!1,this._trueSizeCheck=!0),this.size){var c=t.size;if(o=[this.size[0],this.size[1]],void 0===o[0]&&(o[0]=c[0]),void 0===o[1]&&(o[1]=c[1]),o[0]===!0||o[1]===!0){if(o[0]===!0)if(this._trueSizeCheck||0===this._size[0]){var l=i.offsetWidth;this._size&&this._size[0]!==l&&(this._size[0]=l,this._sizeDirty=!0),o[0]=l}else this._size&&(o[0]=this._size[0]);if(o[1]===!0)if(this._trueSizeCheck||0===this._size[1]){var f=i.offsetHeight;this._size&&this._size[1]!==f&&(this._size[1]=f,this._sizeDirty=!0),o[1]=f}else this._size&&(o[1]=this._size[1]);this._trueSizeCheck=!1}}h(this._size,o)&&(this._size||(this._size=[0,0]),this._size[0]=o[0],this._size[1]=o[1],this._sizeDirty=!0),this._sizeDirty&&(this._size&&(i.style.width=this.size&&this.size[0]===!0?"":this._size[0]+"px",i.style.height=this.size&&this.size[1]===!0?"":this._size[1]+"px"),this._eventOutput.emit("resize")),this._contentDirty&&(this.deploy(i),this._eventOutput.emit("deploy"),this._contentDirty=!1,this._trueSizeCheck=!0),u.prototype.commit.call(this,t)},e.prototype.cleanup=function(t){var i=0,o=this._currentTarget;this._eventOutput.emit("recall"),this.recall(o),o.style.display="none",o.style.opacity="",o.style.width="",o.style.height="",r.call(this,o),c.call(this,o);var e=this.getClassList();for(s.call(this,o),i=0;i<e.length;i++)o.classList.remove(e[i]);if(this.elementClass)if(this.elementClass instanceof Array)for(i=0;i<this.elementClass.length;i++)o.classList.remove(this.elementClass[i]);else o.classList.remove(this.elementClass);this.detach(o),this._currentTarget=null,t.deallocate(o)},e.prototype.deploy=function(t){var i=this.getContent();if(i instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}else t.innerHTML=i},e.prototype.recall=function(t){for(var i=document.createDocumentFragment();t.hasChildNodes();)i.appendChild(t.firstChild);this.setContent(i)},e.prototype.getSize=function(){return this._size?this._size:this.size},e.prototype.setSize=function(t){return this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0,this},o.exports=e}),o("famous/transitions/TransitionableTransform",["require","exports","module","./Transitionable","../core/Transform","../utilities/Utility"],function(t,i,o){function e(t){this._final=a.identity.slice(),this._finalTranslate=[0,0,0],this._finalRotate=[0,0,0],this._finalSkew=[0,0,0],this._finalScale=[1,1,1],this.translate=new r(this._finalTranslate),this.rotate=new r(this._finalRotate),this.skew=new r(this._finalSkew),this.scale=new r(this._finalScale),t&&this.set(t)}function s(){return a.build({translate:this.translate.get(),rotate:this.rotate.get(),skew:this.skew.get(),scale:this.scale.get()})}function n(){return a.build({translate:this._finalTranslate,rotate:this._finalRotate,skew:this._finalSkew,scale:this._finalScale})}var r=t("./Transitionable"),a=t("../core/Transform"),c=t("../utilities/Utility");e.prototype.setTranslate=function(t,i,o){return this._finalTranslate=t,this._final=n.call(this),this.translate.set(t,i,o),this},e.prototype.setScale=function(t,i,o){return this._finalScale=t,this._final=n.call(this),this.scale.set(t,i,o),this},e.prototype.setRotate=function(t,i,o){return this._finalRotate=t,this._final=n.call(this),this.rotate.set(t,i,o),this},e.prototype.setSkew=function(t,i,o){return this._finalSkew=t,this._final=n.call(this),this.skew.set(t,i,o),this},e.prototype.set=function(t,i,o){var e=a.interpret(t);this._finalTranslate=e.translate,this._finalRotate=e.rotate,this._finalSkew=e.skew,this._finalScale=e.scale,this._final=t;var s=o?c.after(4,o):null;return this.translate.set(e.translate,i,s),this.rotate.set(e.rotate,i,s),this.skew.set(e.skew,i,s),this.scale.set(e.scale,i,s),this},e.prototype.setDefaultTransition=function(t){this.translate.setDefault(t),this.rotate.setDefault(t),this.skew.setDefault(t),this.scale.setDefault(t)},e.prototype.get=function(){return this.isActive()?s.call(this):this._final},e.prototype.getFinal=function(){return this._final},e.prototype.isActive=function(){return this.translate.isActive()||this.rotate.isActive()||this.scale.isActive()||this.skew.isActive()},e.prototype.halt=function(){return this.translate.halt(),this.rotate.halt(),this.skew.halt(),this.scale.halt(),this._final=this.get(),this._finalTranslate=this.translate.get(),this._finalRotate=this.rotate.get(),this._finalSkew=this.skew.get(),this._finalScale=this.scale.get(),this},o.exports=e}),o("famous/core/Modifier",["require","exports","module","./Transform","../transitions/Transitionable","../transitions/TransitionableTransform"],function(t,i,o){function e(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null,this._legacyStates={},this._output={transform:n.identity,opacity:1,origin:null,align:null,size:null,proportions:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.align&&this.alignFrom(t.align),t.size&&this.sizeFrom(t.size),t.proportions&&this.proportionsFrom(t.proportions))}function s(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._alignGetter&&(this._output.align=this._alignGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter()),this._proportionGetter&&(this._output.proportions=this._proportionGetter())}var n=t("./Transform"),r=t("../transitions/Transitionable"),a=t("../transitions/TransitionableTransform");e.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this},e.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},e.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},e.prototype.alignFrom=function(t){return t instanceof Function?this._alignGetter=t:t instanceof Object&&t.get?this._alignGetter=t.get.bind(t):(this._alignGetter=null,this._output.align=t),this},e.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},e.prototype.proportionsFrom=function(t){return t instanceof Function?this._proportionGetter=t:t instanceof Object&&t.get?this._proportionGetter=t.get.bind(t):(this._proportionGetter=null,this._output.proportions=t),this},e.prototype.setTransform=function(t,i,o){return i||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new a(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,i,o),this):this.transformFrom(t)},e.prototype.setOpacity=function(t,i,o){return i||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new r(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,i,o)):this.opacityFrom(t)},e.prototype.setOrigin=function(t,i,o){return i||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new r(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,i,o),this):this.originFrom(t)},e.prototype.setAlign=function(t,i,o){return i||this._legacyStates.align?(this._legacyStates.align||(this._legacyStates.align=new r(this._output.align||[0,0])),this._alignGetter||this.alignFrom(this._legacyStates.align),this._legacyStates.align.set(t,i,o),this):this.alignFrom(t)},e.prototype.setSize=function(t,i,o){return t&&(i||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new r(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,i,o),this):this.sizeFrom(t)},e.prototype.setProportions=function(t,i,o){return t&&(i||this._legacyStates.proportions)?(this._legacyStates.proportions||(this._legacyStates.proportions=new r(this._output.proportions||[0,0])),this._proportionGetter||this.proportionsFrom(this._legacyStates.proportions),this._legacyStates.proportions.set(t,i,o),this):this.proportionsFrom(t)},e.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.align&&this._legacyStates.align.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._legacyStates.proportions&&this._legacyStates.proportions.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null},e.prototype.getTransform=function(){return this._transformGetter()},e.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},e.prototype.getOpacity=function(){return this._opacityGetter()},e.prototype.getOrigin=function(){return this._originGetter()},e.prototype.getAlign=function(){return this._alignGetter()},e.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},e.prototype.getProportions=function(){return this._proportionGetter?this._proportionGetter():this._output.proportions},e.prototype.modify=function(t){return s.call(this),this._output.target=t,this._output},o.exports=e}),o("famous/math/Vector",["require","exports","module"],function(t,i,o){function e(t,i,o){return 1===arguments.length&&void 0!==t?this.set(t):(this.x=t||0,this.y=i||0,this.z=o||0),this}function s(t,i,o){return this.x=t,this.y=i,this.z=o,this}function n(t){return s.call(this,t[0],t[1],t[2]||0)}function r(t){return s.call(this,t.x,t.y,t.z)}function a(t){return s.call(this,t,0,0)}var c=new e(0,0,0);e.prototype.add=function(t){return s.call(c,this.x+t.x,this.y+t.y,this.z+t.z)},e.prototype.sub=function(t){return s.call(c,this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.mult=function(t){return s.call(c,t*this.x,t*this.y,t*this.z)},e.prototype.div=function(t){return this.mult(1/t)},e.prototype.cross=function(t){var i=this.x,o=this.y,e=this.z,n=t.x,r=t.y,a=t.z;return s.call(c,e*r-o*a,i*a-e*n,o*n-i*r)},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},e.prototype.rotateX=function(t){var i=this.x,o=this.y,e=this.z,n=Math.cos(t),r=Math.sin(t);return s.call(c,i,o*n-e*r,o*r+e*n)},e.prototype.rotateY=function(t){var i=this.x,o=this.y,e=this.z,n=Math.cos(t),r=Math.sin(t);return s.call(c,e*r+i*n,o,e*n-i*r)},e.prototype.rotateZ=function(t){var i=this.x,o=this.y,e=this.z,n=Math.cos(t),r=Math.sin(t);return s.call(c,i*n-o*r,i*r+o*n,e)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.normSquared=function(){return this.dot(this)},e.prototype.norm=function(){return Math.sqrt(this.normSquared())},e.prototype.normalize=function(t){0===arguments.length&&(t=1);var i=this.norm();return i>1e-7?r.call(c,this.mult(t/i)):s.call(c,t,0,0)},e.prototype.clone=function(){return new e(this)},e.prototype.isZero=function(){return!(this.x||this.y||this.z)},e.prototype.set=function(t){return t instanceof Array?n.call(this,t):"number"==typeof t?a.call(this,t):r.call(this,t)},e.prototype.setXYZ=function(){return s.apply(this,arguments)},e.prototype.set1D=function(t){return a.call(this,t)},e.prototype.put=function(t){this===c?r.call(t,c):r.call(t,this)},e.prototype.clear=function(){return s.call(this,0,0,0)},e.prototype.cap=function h(h){if(1/0===h)return r.call(c,this);var t=this.norm();return t>h?r.call(c,this.mult(h/t)):r.call(c,this)},e.prototype.project=function(t){return t.mult(this.dot(t))},e.prototype.reflectAcross=function(t){return t.normalize().put(t),r(c,this.sub(this.project(t).mult(2)))},e.prototype.get=function(){return[this.x,this.y,this.z]},e.prototype.get1D=function(){return this.x},o.exports=e}),o("famous/math/Matrix",["require","exports","module","./Vector"],function(t,i,o){function e(t){return this.values=t||[[1,0,0],[0,1,0],[0,0,1]],this}var s=t("./Vector"),n=new e,r=new s;e.prototype.get=function(){return this.values},e.prototype.set=function(t){this.values=t},e.prototype.vectorMultiply=function(t){var i=this.get(),o=t.x,e=t.y,s=t.z,n=i[0],a=i[1],c=i[2],h=n[0],u=n[1],l=n[2],f=a[0],p=a[1],d=a[2],y=c[0],m=c[1],_=c[2];return r.setXYZ(h*o+u*e+l*s,f*o+p*e+d*s,y*o+m*e+_*s)},e.prototype.multiply=function(t){for(var i=this.get(),o=[[]],e=0;3>e;e++){o[e]=[];for(var s=0;3>s;s++){for(var r=0,a=0;3>a;a++)r+=i[e][a]*t[a][s];o[e][s]=r}}return n.set(o)},e.prototype.transpose=function(){for(var t=[[],[],[]],i=this.get(),o=0;3>o;o++)for(var e=0;3>e;e++)t[o][e]=i[e][o];return n.set(t)},e.prototype.clone=function(){for(var t=this.get(),i=[],o=0;3>o;o++)i[o]=t[o].slice();return new e(i)},o.exports=e}),o("famous/math/Quaternion",["require","exports","module","./Matrix"],function(t,i,o){function e(t,i,o,e){return 1===arguments.length?this.set(t):(this.w=void 0!==t?t:1,this.x=void 0!==i?i:0,this.y=void 0!==o?o:0,this.z=void 0!==e?e:0),this}var s=t("./Matrix"),n=new e(1,0,0,0);e.prototype.add=function(t){return n.setWXYZ(this.w+t.w,this.x+t.x,this.y+t.y,this.z+t.z)},e.prototype.sub=function(t){return n.setWXYZ(this.w-t.w,this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.scalarDivide=function(t){return this.scalarMultiply(1/t)},e.prototype.scalarMultiply=function(t){return n.setWXYZ(this.w*t,this.x*t,this.y*t,this.z*t)},e.prototype.multiply=function(t){var i=this.x,o=this.y,e=this.z,s=this.w,r=t.x,a=t.y,c=t.z,h=t.w||0;return n.setWXYZ(s*h-i*r-o*a-e*c,i*h+r*s+a*e-o*c,o*h+a*s+i*c-r*e,e*h+c*s+r*o-i*a)};var r=new e(1,0,0,0);e.prototype.rotateVector=function(t){return r.set(this.conj()),n.set(this.multiply(t).multiply(r))},e.prototype.inverse=function(){return n.set(this.conj().scalarDivide(this.normSquared()))},e.prototype.negate=function(){return this.scalarMultiply(-1)},e.prototype.conj=function(){return n.setWXYZ(this.w,-this.x,-this.y,-this.z)},e.prototype.normalize=function(t){return t=void 0===t?1:t,this.scalarDivide(t*this.norm())},e.prototype.makeFromAngleAndAxis=function(t,i){var o=i.normalize(),e=.5*t,s=-Math.sin(e);return this.x=s*o.x,this.y=s*o.y,this.z=s*o.z,this.w=Math.cos(e),this},e.prototype.setWXYZ=function(t,i,o,e){return n.clear(),this.w=t,this.x=i,this.y=o,this.z=e,this},e.prototype.set=function(t){return t instanceof Array?(this.w=0,this.x=t[0],this.y=t[1],this.z=t[2]):(this.w=t.w,this.x=t.x,this.y=t.y,this.z=t.z),this!==n&&n.clear(),this},e.prototype.put=function(t){t.set(n)},e.prototype.clone=function(){return new e(this)},e.prototype.clear=function(){return this.w=1,this.x=0,this.y=0,this.z=0,this},e.prototype.isEqual=function(t){return t.w===this.w&&t.x===this.x&&t.y===this.y&&t.z===this.z},e.prototype.dot=function(t){return this.w*t.w+this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.normSquared=function(){return this.dot(this)},e.prototype.norm=function(){return Math.sqrt(this.normSquared())},e.prototype.isZero=function(){return!(this.x||this.y||this.z)},e.prototype.getTransform=function(){var t=this.normalize(1),i=t.x,o=t.y,e=t.z,s=t.w;return[1-2*o*o-2*e*e,2*i*o-2*e*s,2*i*e+2*o*s,0,2*i*o+2*e*s,1-2*i*i-2*e*e,2*o*e-2*i*s,0,2*i*e-2*o*s,2*o*e+2*i*s,1-2*i*i-2*o*o,0,0,0,0,1]};var a=new s;e.prototype.getMatrix=function(){var t=this.normalize(1),i=t.x,o=t.y,e=t.z,s=t.w;return a.set([[1-2*o*o-2*e*e,2*i*o+2*e*s,2*i*e-2*o*s],[2*i*o-2*e*s,1-2*i*i-2*e*e,2*o*e+2*i*s],[2*i*e+2*o*s,2*o*e-2*i*s,1-2*i*i-2*o*o]])};var c=1e-5;e.prototype.slerp=function(t,i){var o,e,s,r,a;return e=this.dot(t),1-e>c?(o=Math.acos(e),s=Math.sin(o),r=Math.sin((1-i)*o)/s,a=Math.sin(i*o)/s):(r=1-i,a=i),n.set(this.scalarMultiply(r/a).add(t).scalarMultiply(a))},o.exports=e}),o("famous/inputs/MouseSync",["require","exports","module","../core/EventHandler","../core/OptionsManager"],function(t,i,o){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new h(this.options),t&&this.setOptions(t),this._eventInput=new c,this._eventOutput=new c,c.setInputHandler(this,this._eventInput),c.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",s.bind(this)),this._eventInput.on("mousemove",n.bind(this)),this._eventInput.on("mouseup",r.bind(this)),this.options.propogate?this._eventInput.on("mouseleave",a.bind(this)):this._eventInput.on("mouseleave",r.bind(this)),this.options.clickThreshold&&window.addEventListener("click",function(t){Math.sqrt(Math.pow(this._displacement[0],2)+Math.pow(this._displacement[1],2))>this.options.clickThreshold&&t.stopPropagation()}.bind(this),!0),this._payload={delta:null,position:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._positionHistory=[],this._position=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._moved=!1,this._displacement=[0,0],this._documentActive=!1}function s(t){var i,o;this.options.preventDefault&&t.preventDefault();var e=t.clientX,s=t.clientY;this._prevCoord=[e,s],this._prevTime=Date.now(),this._down=!0,this._move=!1,void 0!==this.options.direction?(this._position=0,i=0,o=0):(this._position=[0,0],i=[0,0],o=[0,0]),this.options.clickThreshold&&(this._displacement=[0,0]);var n=this._payload;n.delta=i,n.position=this._position,n.velocity=o,n.clientX=e,n.clientY=s,n.offsetX=t.offsetX,n.offsetY=t.offsetY,this._positionHistory.push({position:n.position.slice?n.position.slice(0):n.position,time:this._prevTime}),this._eventOutput.emit("start",n),this._documentActive=!1}function n(t){if(this._prevCoord){var i=this._prevCoord,o=(this._prevTime,t.clientX),s=t.clientY,n=Date.now(),r=o-i[0],a=s-i[1];this.options.rails&&(Math.abs(r)>Math.abs(a)?a=0:r=0);var c,h,l=Math.max(n-this._positionHistory[0].time,u),f=this.options.scale;this.options.direction===e.DIRECTION_X?(h=f*r,this._position+=h,c=f*(this._position-this._positionHistory[0].position)/l):this.options.direction===e.DIRECTION_Y?(h=f*a,this._position+=h,c=f*(this._position-this._positionHistory[0].position)/l):(h=[f*r,f*a],c=[f*(this._position[0]-this._positionHistory[0].position[0])/l,f*(this._position[1]-this._positionHistory[0].position[1])/l],this._position[0]+=h[0],this._position[1]+=h[1]),this.options.clickThreshold!==!1&&(this._displacement[0]+=r,this._displacement[1]+=a);var p=this._payload;p.delta=h,p.position=this._position,p.velocity=c,p.clientX=o,p.clientY=s,p.offsetX=t.offsetX,p.offsetY=t.offsetY,this._positionHistory.length===this.options.velocitySampleLength&&this._positionHistory.shift(),this._positionHistory.push({position:p.position.slice?p.position.slice(0):p.position,time:n}),this._eventOutput.emit("update",p),this._prevCoord=[o,s],this._prevTime=n,this._move=!0}}function r(){this._down&&(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1,this._positionHistory=[])}function a(t){if(this._down&&this._move&&!this._documentActive){var i=n.bind(this),o=function(t){r.call(this,t),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)}.bind(this,t);document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),this._documentActive=!0}}var c=t("../core/EventHandler"),h=t("../core/OptionsManager");e.DEFAULT_OPTIONS={clickThreshold:void 0,direction:void 0,rails:!1,scale:1,propogate:!0,velocitySampleLength:10,preventDefault:!0},e.DIRECTION_X=0,e.DIRECTION_Y=1;var u=8;e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},o.exports=e}),o("famous/inputs/ScrollSync",["require","exports","module","../core/EventHandler","../core/Engine","../core/OptionsManager"],function(t,i,o){function e(t){this.options=Object.create(e.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this._payload={delta:null,position:null,velocity:null,slip:!0},this._eventInput=new r,this._eventOutput=new r,r.setInputHandler(this,this._eventInput),r.setOutputHandler(this,this._eventOutput),this._position=void 0===this.options.direction?[0,0]:0,this._prevTime=void 0,this._prevVel=void 0,this._eventInput.on("mousewheel",n.bind(this)),this._eventInput.on("wheel",n.bind(this)),this._inProgress=!1,this._loopBound=!1}function s(){if(this._inProgress&&u()-this._prevTime>this.options.stallTime){this._inProgress=!1;var t=Math.abs(this._prevVel)>=this.options.minimumEndSpeed?this._prevVel:0,i=this._payload;i.position=this._position,i.velocity=t,i.slip=!0,this._eventOutput.emit("end",i)}}function n(t){this.options.preventDefault&&t.preventDefault(),this._inProgress||(this._inProgress=!0,this._position=void 0===this.options.direction?[0,0]:0,m=this._payload,m.slip=!0,m.position=this._position,m.clientX=t.clientX,m.clientY=t.clientY,m.offsetX=t.offsetX,m.offsetY=t.offsetY,this._eventOutput.emit("start",m),this._loopBound||(a.on("prerender",s.bind(this)),this._loopBound=!0));var i=u(),o=this._prevTime||i,n=void 0!==t.wheelDeltaX?t.wheelDeltaX:-t.deltaX,r=void 0!==t.wheelDeltaY?t.wheelDeltaY:-t.deltaY;1===t.deltaMode&&(n*=this.options.lineHeight,r*=this.options.lineHeight),this.options.rails&&(Math.abs(n)>Math.abs(r)?r=0:n=0);var c,l,f=Math.max(i-o,h),p=n/f,d=r/f,y=this.options.scale;this.options.direction===e.DIRECTION_X?(l=y*n,c=y*p,this._position+=l):this.options.direction===e.DIRECTION_Y?(l=y*r,c=y*d,this._position+=l):(l=[y*n,y*r],c=[y*p,y*d],this._position[0]+=l[0],this._position[1]+=l[1]);var m=this._payload;m.delta=l,m.velocity=c,m.position=this._position,m.slip=!0,this._eventOutput.emit("update",m),this._prevTime=i,this._prevVel=c}var r=t("../core/EventHandler"),a=t("../core/Engine"),c=t("../core/OptionsManager");e.DEFAULT_OPTIONS={direction:void 0,minimumEndSpeed:1/0,rails:!1,scale:1,stallTime:50,lineHeight:40,preventDefault:!0},e.DIRECTION_X=0,e.DIRECTION_Y=1;var h=8,u=Date.now;e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},o.exports=e}),o("SpinnerData",["require","exports","module"],function(t,i,o){var e={};e.cases=["front","back","top","bottom","left","right","middleX","middleY","middleZ"],e.frontSquares=[{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:0,y:-1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:1,y:-1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:0,y:1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:-1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"front",toSide:"front",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"bottom",toSide:"left",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"bottom",toSide:"left",fromPosition:{x:0,y:1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"bottom",toSide:"left",fromPosition:{x:1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"left",toSide:"top",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"left",toSide:"top",fromPosition:{x:0,y:1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"left",toSide:"top",fromPosition:{x:1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"top",toSide:"right",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"top",toSide:"right",fromPosition:{x:0,y:1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"top",toSide:"right",fromPosition:{x:1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"right",toSide:"bottom",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"right",toSide:"bottom",fromPosition:{x:0,y:1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"right",toSide:"bottom",fromPosition:{x:1,y:1},toPosition:{x:-1,y:1}}}],e.backSquares=[{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:-1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"back",toSide:"back",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"top",toSide:"left",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"top",toSide:"left",fromPosition:{x:0,y:-1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"top",toSide:"left",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"left",toSide:"bottom",fromPosition:{x:1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"left",toSide:"bottom",fromPosition:{x:0,y:-1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"left",toSide:"bottom",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"right",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"right",fromPosition:{x:0,y:-1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"right",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"right",toSide:"top",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"right",toSide:"top",fromPosition:{x:0,y:-1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"right",toSide:"top",fromPosition:{x:1,y:-1},toPosition:{x:1,y:-1}}}],e.topSquares=[{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:0,y:-1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:1,y:-1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:0,y:1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:-1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"top",toSide:"top",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"front",toSide:"left",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"front",toSide:"left",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"front",toSide:"left",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"left",toSide:"back",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"left",toSide:"back",fromPosition:{x:-1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"left",toSide:"back",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"back",toSide:"right",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"back",toSide:"right",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"back",toSide:"right",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"right",toSide:"front",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"right",toSide:"front",fromPosition:{x:-1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"right",toSide:"front",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}}],e.bottomSquares=[{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:-1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"bottom",toSide:"bottom",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"back",toSide:"left",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"back",toSide:"left",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"back",toSide:"left",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"left",toSide:"front",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"left",toSide:"front",fromPosition:{x:1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"left",toSide:"front",fromPosition:{x:1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"front",toSide:"right",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"front",toSide:"right",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"front",toSide:"right",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"right",toSide:"back",fromPosition:{x:1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"right",toSide:"back",fromPosition:{x:1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"right",toSide:"back",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:1}}}],e.leftSquares=[{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:-1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:-1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"left",toSide:"left",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"back",toSide:"top",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"back",toSide:"top",fromPosition:{x:-1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"back",toSide:"top",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"top",toSide:"front",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"top",toSide:"front",fromPosition:{x:-1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"top",toSide:"front",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"front",toSide:"bottom",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"front",toSide:"bottom",fromPosition:{x:-1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"front",toSide:"bottom",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"back",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"bottom",toSide:"back",fromPosition:{x:-1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"bottom",toSide:"back",fromPosition:{x:-1,y:-1},toPosition:{x:-1,y:-1}}}],e.rightSquares=[{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:-1,y:1},toPosition:{x:-1,y:-1}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:-1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:-1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:0,y:-1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:1,y:-1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:1,y:1},toPosition:{x:-1,y:1}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:0,y:1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"right",toSide:"right",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"bottom",toSide:"front",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"bottom",toSide:"front",fromPosition:{x:1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"bottom",toSide:"front",fromPosition:{x:1,y:-1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"front",toSide:"top",fromPosition:{x:1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"front",toSide:"top",fromPosition:{x:1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"front",toSide:"top",fromPosition:{x:1,y:-1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"top",toSide:"back",fromPosition:{x:1,y:1},toPosition:{x:1,y:-1}}},{clockwise:{fromSide:"top",toSide:"back",fromPosition:{x:1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"top",toSide:"back",fromPosition:{x:1,y:-1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"back",toSide:"bottom",fromPosition:{x:1,y:1},toPosition:{x:1,y:1}}},{clockwise:{fromSide:"back",toSide:"bottom",fromPosition:{x:1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"back",toSide:"bottom",fromPosition:{x:1,y:-1},toPosition:{x:1,y:-1}}}],e.middleYSquares=[{clockwise:{fromSide:"back",toSide:"left",fromPosition:{x:1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"back",toSide:"left",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"back",toSide:"left",fromPosition:{x:-1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"left",toSide:"front",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"left",toSide:"front",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"left",toSide:"front",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"front",toSide:"right",fromPosition:{x:-1,y:0},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"front",toSide:"right",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"front",toSide:"right",fromPosition:{x:1,y:0},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"right",toSide:"back",fromPosition:{x:0,y:1},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"right",toSide:"back",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"right",toSide:"back",fromPosition:{x:0,y:-1},toPosition:{x:-1,y:0}}}],e.middleXSquares=[{clockwise:{fromSide:"bottom",toSide:"front",fromPosition:{x:0,y:-1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"bottom",toSide:"front",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"bottom",toSide:"front",fromPosition:{x:0,y:1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"front",toSide:"top",fromPosition:{x:0,y:1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"front",toSide:"top",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"front",toSide:"top",fromPosition:{x:0,y:-1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"top",toSide:"back",fromPosition:{x:0,y:1},toPosition:{x:0,y:-1}}},{clockwise:{fromSide:"top",toSide:"back",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"top",toSide:"back",fromPosition:{x:0,y:-1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"back",toSide:"bottom",fromPosition:{x:0,y:1},toPosition:{x:0,y:1}}},{clockwise:{fromSide:"back",toSide:"bottom",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"back",toSide:"bottom",fromPosition:{x:0,y:-1},toPosition:{x:0,y:-1}}}],e.middleZsquares=[{clockwise:{fromSide:"bottom",toSide:"left",fromPosition:{x:-1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"bottom",toSide:"left",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"bottom",toSide:"left",fromPosition:{x:1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"left",toSide:"top",fromPosition:{x:-1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"left",toSide:"top",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"left",toSide:"top",fromPosition:{x:1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"top",toSide:"right",fromPosition:{x:-1,y:0},toPosition:{x:-1,y:0}}},{clockwise:{fromSide:"top",toSide:"right",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"top",toSide:"right",fromPosition:{x:1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"right",toSide:"bottom",fromPosition:{x:-1,y:0},toPosition:{x:1,y:0}}},{clockwise:{fromSide:"right",toSide:"bottom",fromPosition:{x:0,y:0},toPosition:{x:0,y:0}}},{clockwise:{fromSide:"right",toSide:"bottom",fromPosition:{x:1,y:0},toPosition:{x:-1,y:0}}}],o.exports=e
}),o("main",["require","exports","module","famous/core/Engine","famous/core/Surface","famous/core/Modifier","famous/core/Transform","famous/core/RenderNode","famous/math/Quaternion","famous/math/Vector","famous/inputs/MouseSync","famous/inputs/ScrollSync","SpinnerData"],function(t){function i(t,i){var o,e,s;switch(o=260,e=260,s=260,i){case"front":return r.translate(t.x*(o/3),t.y*(e/3),s/2);case"back":return r.multiply(r.translate(t.x*(o/3),t.y*(e/3),-s/2),r.multiply(r.rotateZ(Math.PI),r.rotateX(Math.PI)));case"top":return r.multiply(r.translate(t.x*(o/3),-e/2,t.y*(e/3)),r.rotateX(Math.PI/2));case"bottom":return r.multiply(r.translate(t.x*(o/3),e/2,t.y*(e/3)),r.multiply(r.rotateX(-Math.PI/2),r.rotateZ(Math.PI)));case"left":return r.multiply(r.translate(-o/2,t.x*(o/3),t.y*(e/3)),r.rotateY(-Math.PI/2));case"right":return r.multiply(r.translate(o/2,t.x*(o/3),t.y*(e/3)),r.rotateY(Math.PI/2))}}function o(t,o){function e(t){var i=new s({size:t.size,content:t.content,classes:t.classes,properties:t.properties});m.push(i);var o=new n({transform:t.transform});_.push(o),r.add(o).add(i)}var r=new a,c=[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}],h=["front","back","top","bottom","left","right"],u=["red","green","blue","yellow","orange","white"],l=[];for(var f in u)for(var p=0;8>p;p++)l.push(u[f]);var d;for(var y in h)for(var p=0;9>p;p++){var f;switch(h[y]){case"front":f="red";break;case"back":f="orange";break;case"top":f="white";break;case"bottom":f="yellow";break;case"left":f="green";break;case"right":f="blue"}d=0==c[p].x&&0==c[p].y?h[y]:"",e({content:d,size:[t/3,o/3],properties:{textAlign:"center",fontSize:"20px",fontWeight:"bold",backgroundColor:f,border:"3px solid black",data:{side:h[y],index:p,position:c[p]}},transform:i(c[p],h[y]),position:c[p]})}return r}var e=t("famous/core/Engine"),s=t("famous/core/Surface"),n=t("famous/core/Modifier"),r=t("famous/core/Transform"),a=t("famous/core/RenderNode"),c=t("famous/math/Quaternion"),h=(t("famous/math/Vector"),t("famous/inputs/MouseSync")),u=t("famous/inputs/ScrollSync"),l=t("SpinnerData"),f=e.createContext(),p=new c(1,1,1,0),d=new c(-1,0,0,0),y=new n({origin:[.5,.5],align:[.5,.5]}),m=[],_=[],v=new s({size:[250,24],content:"Built on <a href='https://famo.us' target='_blank'>famo.us</a> | <a href='https://github.com/rlafranchi/rubiks-cube' target='_blank'>Source on Github</a>"}),x=new n({origin:[1,0],align:[1,0]}),g=new s({size:[180,24],content:"SHUFFLE",classes:["spinner-btn"],properties:{padding:"3px",border:"2px solid black",borderRadius:"5px",cursor:"pointer"}}),S=new n({transform:r.translate(2,2,0)});f.add(S).add(g),f.add(x).add(v),g.on("click",function(){for(var t,i,o=0;100>o;o++)t=l.cases[Math.floor(Math.random()*l.cases.length)],i=[!0,!1][Math.floor(2*Math.random())],I(i,t,50)}),y.transformFrom(function(){return p.getTransform()});var P=[0,0],w=[0,0],b=new h,k=new u;e.pipe(b),e.pipe(k),f.add(y).add(o(260,260,260)),e.on("prerender",function(){p=p.multiply(d)}),e.on("click",function(){}),b.on("start",function(){w=[0,0]}),b.on("update",function(t){w=t.position,P=t.delta,d=new c(90,-P[0]/10,P[1]/10,-P[1]/10)}),b.on("end",function(){d=new c(-1,0,0,0)}),k.on("start",function(){w=[0,0]}),k.on("update",function(t){w=t.position,P=t.delta,d=new c(90,-P[0]/10,P[1]/10,-P[1]/10)}),k.on("end",function(){d=new c(-1,0,0,0)});for(var z=0;2>z;z++){var M;M=0==z?!0:!1;var O=M?" | <small>clockwise</small>":" | <small>counter-clockwise</small>";for(var T in l.cases){var C=new s({size:[180,24],content:l.cases[T]+O,classes:["spinner-btn"],properties:{padding:"3px",border:"2px solid black",borderRadius:"5px",cursor:"pointer",data:{"case":l.cases[T],clockwise:M}}}),D=new n({transform:r.translate(2+182*z,26+(2+26*T),0)});C.on("click",function(){I(this.properties.data.clockwise,this.properties.data["case"],500)}),f.add(D).add(C)}}var I=function(t,i,o){for(var e in m){var s,n=m[e],r=n.properties.data;switch(i){case"front":s=l.frontSquares;break;case"back":s=l.backSquares;break;case"top":s=l.topSquares;break;case"bottom":s=l.bottomSquares;break;case"left":s=l.leftSquares;break;case"right":s=l.rightSquares;break;case"middleX":s=l.middleXSquares;break;case"middleY":s=l.middleYSquares;break;case"middleZ":s=l.middleZsquares}var a,c;for(var h in s)if(1==t?(a=s[h].clockwise.fromPosition,c=s[h].clockwise.fromSide):(a=s[h].clockwise.toPosition,c=s[h].clockwise.toSide),r.position.x==a.x&&r.position.y==a.y&&r.side==c){L(s[h],r,n,e,t,o);break}}},L=function(t,o,e,s,n,r){1==n?(o.position=t.clockwise.toPosition,o.side=t.clockwise.toSide):(o.position=t.clockwise.fromPosition,o.side=t.clockwise.fromSide);var a=o.position;0==a.x&&0==a.y&&m[s].setContent(o.side),_[s].setTransform(i(a,o.side),{duration:r})}}),i(["main"])}();
